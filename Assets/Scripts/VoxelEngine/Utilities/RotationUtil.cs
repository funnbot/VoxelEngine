using System.Collections;
using System.Collections.Generic;
using UnityEngine;

namespace VoxelEngine.Utilities {
    
    public class RotationUtil {
        public static int IndexRotateAround(int dir, ref Coord3 rot) {
            return TextureIndexRotations[rot.x, rot.y, rot.z, dir];
        }

        public static int FaceRotate(int dir, ref Coord3 rot) {
            return FaceUVRotations[rot.x, rot.y, rot.z, dir];
        }

        /// The UV rotation for each possible Euler rotation indexed as (roX, rotY, rotZ, dir)
        // Rotation is clockwise, 90 degree turns
        private static readonly int[,,,] FaceUVRotations = {
            {
                { { 0, 0, 0, 0, 0, 0 }, { 3, 1, 3, 3, 3, 3 }, { 2, 2, 2, 2, 2, 2 }, { 1, 3, 1, 1, 1, 1 } },
                { { 0, 0, 1, 3, 0, 0 }, { 3, 3, 0, 2, 1, 3 }, { 2, 2, 3, 3, 2, 2 }, { 1, 1, 2, 0, 3, 1 } },
                { { 0, 0, 2, 2, 0, 0 }, { 1, 3, 1, 1, 3, 3 }, { 2, 2, 0, 0, 2, 2 }, { 3, 1, 3, 3, 1, 1 } },
                { { 0, 0, 3, 1, 0, 0 }, { 3, 3, 2, 0, 3, 1 }, { 2, 2, 1, 1, 2, 2 }, { 1, 1, 0, 2, 1, 3 } } 
            },
            {
                { { 0, 2, 0, 2, 1, 3 }, { 3, 1, 3, 3, 0, 2 }, { 2, 0, 2, 0, 3, 1 }, { 1, 3, 1, 1, 2, 0 } },
                { { 1, 3, 1, 1, 2, 0 }, { 0, 2, 0, 2, 1, 3 }, { 3, 1, 3, 3, 0, 2 }, { 2, 0, 2, 0, 3, 1 } },
                { { 2, 0, 2, 0, 3, 1 }, { 1, 3, 1, 1, 2, 0 }, { 0, 2, 0, 2, 1, 3 }, { 3, 1, 3, 3, 0, 2 } },
                { { 3, 1, 3, 3, 0, 2 }, { 2, 0, 2, 0, 3, 1 }, { 1, 3, 1, 1, 2, 0 }, { 0, 2, 0, 2, 1, 3 } } 
            },
            {
                { { 2, 2, 0, 0, 2, 2 }, { 3, 1, 3, 3, 1, 1 }, { 0, 0, 2, 2, 0, 0 }, { 1, 3, 1, 1, 1, 1 } },
                { { 2, 2, 1, 3, 2, 2 }, { 1, 1, 0, 2, 1, 3 }, { 0, 0, 3, 1, 0, 0 }, { 3, 3, 2, 0, 3, 1 } },
                { { 2, 2, 2, 2, 2, 2 }, { 1, 3, 1, 1, 1, 1 }, { 0, 0, 0, 0, 0, 0 }, { 3, 1, 3, 3, 3, 3 } },
                { { 2, 2, 3, 1, 2, 2 }, { 1, 1, 2, 0, 3, 1 }, { 0, 0, 1, 3, 0, 0 }, { 3, 3, 0, 2, 1, 3 } } 
            },
            {
                { { 0, 2, 2, 0, 3, 1 }, { 3, 1, 3, 3, 2, 0 }, { 2, 0, 0, 2, 1, 3 }, { 1, 3, 1, 1, 0, 2 } },
                { { 3, 1, 3, 3, 2, 0 }, { 2, 0, 0, 2, 1, 3 }, { 1, 3, 1, 1, 0, 2 }, { 0, 2, 2, 0, 3, 1 } },
                { { 2, 0, 0, 2, 1, 3 }, { 1, 3, 1, 1, 0, 2 }, { 0, 2, 2, 0, 3, 1 }, { 3, 1, 3, 3, 2, 0 } },
                { { 1, 3, 1, 1, 0, 2 }, { 0, 2, 2, 0, 3, 1 }, { 3, 1, 3, 3, 2, 0 }, { 2, 0, 0, 2, 1, 3 } } 
            },
        };

        /// The texture indicies for each direction of a specific rotation
        private static readonly int[,,,] TextureIndexRotations = {
            {
                { { 0, 1, 2, 3, 4, 5 }, { 0, 1, 4, 5, 3, 2 }, { 0, 1, 3, 2, 5, 4 }, { 0, 1, 5, 4, 2, 3 } },
                { { 4, 5, 2, 3, 1, 0 }, { 3, 2, 4, 5, 1, 0 }, { 5, 4, 3, 2, 1, 0 }, { 2, 3, 5, 4, 1, 0 } },
                { { 1, 0, 2, 3, 5, 4 }, { 1, 0, 4, 5, 2, 3 }, { 1, 0, 3, 2, 4, 5 }, { 1, 0, 5, 4, 3, 2 } },
                { { 5, 4, 2, 3, 0, 1 }, { 2, 3, 4, 5, 0, 1 }, { 4, 5, 3, 2, 0, 1 }, { 3, 2, 5, 4, 0, 1 } }
            },
            {
                { { 3, 2, 0, 1, 4, 5 }, { 5, 4, 0, 1, 3, 2 }, { 2, 3, 0, 1, 5, 4 }, { 4, 5, 0, 1, 2, 3 } },
                { { 4, 5, 0, 1, 2, 3 }, { 3, 2, 0, 1, 4, 5 }, { 5, 4, 0, 1, 3, 2 }, { 2, 3, 0, 1, 5, 4 } },
                { { 2, 3, 0, 1, 5, 4 }, { 4, 5, 0, 1, 2, 3 }, { 3, 2, 0, 1, 4, 5 }, { 5, 4, 0, 1, 3, 2 } },
                { { 5, 4, 0, 1, 3, 2 }, { 2, 3, 0, 1, 5, 4 }, { 4, 5, 0, 1, 2, 3 }, { 3, 2, 0, 1, 4, 5 } }
            },
            {
                { { 1, 0, 3, 2, 4, 5 }, { 1, 0, 5, 4, 3, 2 }, { 1, 0, 2, 3, 5, 4 }, { 1, 0, 4, 5, 2, 3 } },
                { { 4, 5, 3, 2, 0, 1 }, { 3, 2, 5, 4, 0, 1 }, { 5, 4, 2, 3, 0, 1 }, { 2, 3, 4, 5, 0, 1 } },
                { { 0, 1, 3, 2, 5, 4 }, { 0, 1, 5, 4, 2, 3 }, { 0, 1, 2, 3, 4, 5 }, { 0, 1, 4, 5, 3, 2 } },
                { { 5, 4, 3, 2, 1, 0 }, { 2, 3, 5, 4, 1, 0 }, { 4, 5, 2, 3, 1, 0 }, { 3, 2, 4, 5, 1, 0 } }
            },
            {
                { { 2, 3, 1, 0, 4, 5 }, { 4, 5, 1, 0, 3, 2 }, { 3, 2, 1, 0, 5, 4 }, { 5, 4, 1, 0, 2, 3 } },
                { { 4, 5, 1, 0, 3, 2 }, { 3, 2, 1, 0, 5, 4 }, { 5, 4, 1, 0, 2, 3 }, { 2, 3, 1, 0, 4, 5 } },
                { { 3, 2, 1, 0, 5, 4 }, { 5, 4, 1, 0, 2, 3 }, { 2, 3, 1, 0, 4, 5 }, { 4, 5, 1, 0, 3, 2 } },
                { { 5, 4, 1, 0, 2, 3 }, { 2, 3, 1, 0, 4, 5 }, { 4, 5, 1, 0, 3, 2 }, { 3, 2, 1, 0, 5, 4 } }
            },
        };
    }
}